{
    "sourceFile": "src/app/(clientes)/carteirinha/components/DigitalWalletCard.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1740333849536,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1740334095529,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,10 +24,13 @@\n             </Col>\r\n         );\r\n     }\r\n \r\n-    const { name, id } = session.user; // Pegando nome e ID do usuário autenticado\r\n+    const { nome, sobrenome, id_carteirinha, data_ultimo_voucher } = session.user; // Pegando os dados do usuário autenticado\r\n \r\n+    const nomeCompleto = `${nome} ${sobrenome}`; // Concatenar nome + sobrenome\r\n+    const ultimaUtilizacao = data_ultimo_voucher ? new Date(data_ultimo_voucher).toLocaleString(\"pt-BR\") : \"Nunca usado\"; // Formatando data\r\n+\r\n     const toggleQRCode = () => {\r\n         setShowQRCode(!showQRCode);\r\n     };\r\n \r\n@@ -37,10 +40,11 @@\n                 <CardBody>\r\n                     <Row className=\"align-items-center justify-content-between\">\r\n                         <Col xl={7} lg={6} md={6}>\r\n                             <h3 className=\"text-white fw-bold\">Carteirinha Digital</h3>\r\n-                            <p className=\"text-white h5\">{name}</p> {/* Exibe o nome do cliente autenticado */}\r\n-                            <p className=\"text-white-50\">ID: {id}</p> {/* Exibe o ID do cliente autenticado */}\r\n+                            <p className=\"text-white h5\">{nomeCompleto}</p> {/* Exibe o nome completo */}\r\n+                            <p className=\"text-white-50\">ID Carteirinha: {id_carteirinha}</p> {/* Exibe ID da carteirinha */}\r\n+                            <p className=\"text-white-50\">Última utilização: {ultimaUtilizacao}</p> {/* Exibe a última vez que usou um voucher */}\r\n \r\n                             <Row className=\"mt-4\">\r\n                                 <Col lg={12} className=\"mb-2\">\r\n                                     <Button variant=\"primary\" size=\"sm\" className=\"w-100\" onClick={toggleQRCode}>\r\n"
                },
                {
                    "date": 1740334317899,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,14 @@\n \"use client\";\r\n \r\n import { useSession } from \"next-auth/react\"; // Importar NextAuth para pegar usuário logado\r\n-import qrCode from '@/assets/images/qrcode.png';\r\n-import moneyImg from '@/assets/images/no-qrcode.png';\r\n import Image from 'next/image';\r\n import { Button, Card, CardBody, Col, Row } from 'react-bootstrap';\r\n import { useState } from 'react';\r\n \r\n const DigitalWalletCard = () => {\r\n     const { data: session } = useSession(); // Obter os dados do usuário autenticado\r\n-    const [showQRCode, setShowQRCode] = useState(false);\r\n+    const [showID, setShowID] = useState(false); // Estado para exibir ou ocultar o ID\r\n \r\n     // Se o usuário não estiver logado, mostrar mensagem\r\n     if (!session || !session.user) {\r\n         return (\r\n@@ -29,10 +27,10 @@\n \r\n     const nomeCompleto = `${nome} ${sobrenome}`; // Concatenar nome + sobrenome\r\n     const ultimaUtilizacao = data_ultimo_voucher ? new Date(data_ultimo_voucher).toLocaleString(\"pt-BR\") : \"Nunca usado\"; // Formatando data\r\n \r\n-    const toggleQRCode = () => {\r\n-        setShowQRCode(!showQRCode);\r\n+    const toggleID = () => {\r\n+        setShowID(!showID);\r\n     };\r\n \r\n     return (\r\n         <Col xl={4}>\r\n@@ -41,26 +39,21 @@\n                     <Row className=\"align-items-center justify-content-between\">\r\n                         <Col xl={7} lg={6} md={6}>\r\n                             <h3 className=\"text-white fw-bold\">Carteirinha Digital</h3>\r\n                             <p className=\"text-white h5\">{nomeCompleto}</p> {/* Exibe o nome completo */}\r\n-                            <p className=\"text-white-50\">ID Carteirinha: {id_carteirinha}</p> {/* Exibe ID da carteirinha */}\r\n+                            <p className=\"text-white-50\">\r\n+                                ID Carteirinha: {showID ? id_carteirinha : \"*******\"}\r\n+                            </p> {/* Exibe o ID ou *** */}\r\n                             <p className=\"text-white-50\">Última utilização: {ultimaUtilizacao}</p> {/* Exibe a última vez que usou um voucher */}\r\n \r\n                             <Row className=\"mt-4\">\r\n                                 <Col lg={12} className=\"mb-2\">\r\n-                                    <Button variant=\"primary\" size=\"sm\" className=\"w-100\" onClick={toggleQRCode}>\r\n-                                        {showQRCode ? \"Esconder QR Code\" : \"Mostrar QR Code\"}\r\n+                                    <Button variant=\"primary\" size=\"sm\" className=\"w-100\" onClick={toggleID}>\r\n+                                        {showID ? \"Ocultar ID\" : \"Mostrar ID\"}\r\n                                     </Button>\r\n                                 </Col>\r\n                             </Row>\r\n                         </Col>\r\n-                        <Col xl={5} lg={4} md={4} className=\"text-center\">\r\n-                            {showQRCode ? (\r\n-                                <Image src={qrCode} alt=\"QR Code\" width={150} height={150} />\r\n-                            ) : (\r\n-                                <Image src={moneyImg} alt=\"Wallet Icon\" className=\"img-fluid\" width={150} height={150} />\r\n-                            )}\r\n-                        </Col>\r\n                     </Row>\r\n                 </CardBody>\r\n             </Card>\r\n         </Col>\r\n"
                }
            ],
            "date": 1740333849536,
            "name": "Commit-0",
            "content": "\"use client\";\r\n\r\nimport { useSession } from \"next-auth/react\"; // Importar NextAuth para pegar usuário logado\r\nimport qrCode from '@/assets/images/qrcode.png';\r\nimport moneyImg from '@/assets/images/no-qrcode.png';\r\nimport Image from 'next/image';\r\nimport { Button, Card, CardBody, Col, Row } from 'react-bootstrap';\r\nimport { useState } from 'react';\r\n\r\nconst DigitalWalletCard = () => {\r\n    const { data: session } = useSession(); // Obter os dados do usuário autenticado\r\n    const [showQRCode, setShowQRCode] = useState(false);\r\n\r\n    // Se o usuário não estiver logado, mostrar mensagem\r\n    if (!session || !session.user) {\r\n        return (\r\n            <Col xl={4}>\r\n                <Card className=\"bg-dark bg-gradient\">\r\n                    <CardBody>\r\n                        <h4 className=\"text-white\">Nenhum usuário autenticado</h4>\r\n                        <p className=\"text-white-50\">Por favor, faça login para ver sua carteirinha.</p>\r\n                    </CardBody>\r\n                </Card>\r\n            </Col>\r\n        );\r\n    }\r\n\r\n    const { name, id } = session.user; // Pegando nome e ID do usuário autenticado\r\n\r\n    const toggleQRCode = () => {\r\n        setShowQRCode(!showQRCode);\r\n    };\r\n\r\n    return (\r\n        <Col xl={4}>\r\n            <Card className=\"bg-dark bg-gradient\">\r\n                <CardBody>\r\n                    <Row className=\"align-items-center justify-content-between\">\r\n                        <Col xl={7} lg={6} md={6}>\r\n                            <h3 className=\"text-white fw-bold\">Carteirinha Digital</h3>\r\n                            <p className=\"text-white h5\">{name}</p> {/* Exibe o nome do cliente autenticado */}\r\n                            <p className=\"text-white-50\">ID: {id}</p> {/* Exibe o ID do cliente autenticado */}\r\n\r\n                            <Row className=\"mt-4\">\r\n                                <Col lg={12} className=\"mb-2\">\r\n                                    <Button variant=\"primary\" size=\"sm\" className=\"w-100\" onClick={toggleQRCode}>\r\n                                        {showQRCode ? \"Esconder QR Code\" : \"Mostrar QR Code\"}\r\n                                    </Button>\r\n                                </Col>\r\n                            </Row>\r\n                        </Col>\r\n                        <Col xl={5} lg={4} md={4} className=\"text-center\">\r\n                            {showQRCode ? (\r\n                                <Image src={qrCode} alt=\"QR Code\" width={150} height={150} />\r\n                            ) : (\r\n                                <Image src={moneyImg} alt=\"Wallet Icon\" className=\"img-fluid\" width={150} height={150} />\r\n                            )}\r\n                        </Col>\r\n                    </Row>\r\n                </CardBody>\r\n            </Card>\r\n        </Col>\r\n    );\r\n};\r\n\r\nexport default DigitalWalletCard;\r\n"
        }
    ]
}